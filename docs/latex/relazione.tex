\documentclass[12pt,a4paper,openany,oneside]{book}

\usepackage{hyperref}
\usepackage[italian]{babel}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{graphicx}
\usepackage[font=small,labelfont=bf,tableposition=top]{caption}

\usepackage[headheight=12pt, textheight=592pt, marginparsep=7pt, footskip=30pt, hoffset=0pt, paperwidth=597pt,
            top=127pt, headsep=19pt, textwidth=390pt, marginparwidth=38pt, voffset=0pt, paperheight=845pt,
            left=117pt, right=90pt]{geometry}
            
\usepackage{listings}
\usepackage{inconsolata}
\usepackage{xcolor}
\usepackage[framemethod=tikz]{mdframed}

% Colori per il codice Python
\definecolor{commentsgreen}{rgb}{0, 0.6, 0}
\definecolor{codegray}{rgb}{0.5, 0.5, 0.5}
\definecolor{keywordpurple}{rgb}{0.77, 0.525, 0.75}
\definecolor{backcolour}{rgb}{0.12, 0.12, 0.12}
\definecolor{functionyellow}{rgb}{0.86, 0.86, 0.667}
\definecolor{basicblue}{rgb}{0.61, 0.86, 1}
\definecolor{classgreen}{rgb}{0.294, 0.745, 0.6}
\definecolor{numberyellow}{rgb}{0.686, 0.705, 0.435}
\definecolor{stringbrown}{rgb}{0.8, 0.51, 0.298}

\lstset{
    language=Python,
    basicstyle=\footnotesize\ttfamily\color{basicblue},
    numbers=left,
    numberstyle=\tiny\ttfamily\color{codegray},
    numbersep=8pt,
    tabsize=4,
    escapeinside={(*@}{@*)},
    extendedchars=true,
    breaklines=true,
    backgroundcolor=\color{backcolour},
    commentstyle=\ttfamily\color{commentsgreen},
    keywordstyle=\ttfamily\color{keywordpurple},
    stringstyle=\ttfamily\color{stringbrown},
    showspaces=false,
    showtabs=false,
    xleftmargin=17pt,
    framexleftmargin=17pt,
    framexrightmargin=5pt,
    framexbottommargin=4pt,
    showstringspaces=false,
    captionpos=b,
    morekeywords=[2]{hide_message, get_message, hide_image, get_image, hide_bin_file, get_bin_file, binary_convert, binary_convert_back, set_last_bit, save_backup_data, validate_image_size_for_message, load, convert, calculate_psnr, calculate_ssim, pop, set_color_component, dwt2, flatten, embed_in_pair, get_range_capacity, staticmethod, setup_sidebar, show_data_type_selector, success, error, join, dump, load_backup_data, exists, structural_similarity, ssim, calculate_all_metrics, save_uploaded_file, selectbox, array, mean, calculate_mse, log, get_dwt_coefficients, info, gettempdir, write, getvalue, cleanup_temp_file, remove, markdown, sidebar, button, rerun, columns, show_resized_image, image, show_image_details, expander, create_download_button, download_button, spinner, metric, generate_key, encrypt, encode},
    keywordstyle=[2]\ttfamily\color{functionyellow},
    morekeywords=[3]{Image, MessageSteganography, ImageSteganography, BinarySteganography, QualityMetrics, ParameterValidator, DataType, SteganographyMethod, CompressionMode, int, pywt, src, steganografia, lsb, dwt, pvd, ParameterBackup, AppLayout, Enum, str, st, ValueError, tuple, json, os, pathlib, Path, time, FileNotFoundError, numpy, np, skimage, metrics, tempfile, Exception, cryptography, fernet, Fernet},
    keywordstyle=[3]\ttfamily\color{classgreen},
    literate={.}{{\textcolor{white}{.}}}1 
             {=}{{\textcolor{white}{=}}}1
             {,}{{\textcolor{white}{,}}}1
             {:}{{\textcolor{white}{:}}}1
             {|}{{\textcolor{white}{|}}}1
             {+}{{\textcolor{white}{+}}}1
             {-}{{\textcolor{white}{-}}}1
             {>}{{\textcolor{white}{>}}}1
             {<}{{\textcolor{white}{<}}}1
             {*}{{\textcolor{white}{*}}}1
}

\addto\captionsitalian{
    \renewcommand{\lstlistingname}{Codice}
}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{2}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{float}
\usepackage{framed}
\usepackage{booktabs}
\usepackage{array}

\begin{document}

\newgeometry{top=2.5cm, bottom=3cm, left=2.5cm, right=2.5cm}
\input{parts/frontespizio}
\restoregeometry

\input{parts/abstract}

\tableofcontents

\input{parts/introduzione}

\input{parts/capitolo1_fondamenti}

\input{parts/capitolo2_algoritmi}

\input{parts/capitolo3_architettura}

\input{parts/capitolo4_implementazione}

\input{parts/capitolo5_interfaccia}

\input{parts/conclusioni}

\bibliographystyle{plain}
\bibliography{bibliografia}

\end{document}
